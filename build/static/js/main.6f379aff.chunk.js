(this.webpackJsonpheroclient=this.webpackJsonpheroclient||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),o=a.n(l),c=(a(79),a(80),a(81),a(7)),s=a.n(c),u=a(31),i=a(20),m=a(114),d=a(115),h=a(69),E=a(120),p=a(70),g=a(71),b=a(116),v=(a(83),a(119)),f=a(121),y=a(8),w=function(e){return r.a.createElement("div",null,r.a.createElement(v.a,{variant:"pills",defaultActiveKey:"/home",className:"justify-content-end "},r.a.createElement(f.a.Brand,{style:{textAlign:"right"}},"Welcome to SuperHeros"),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{as:y.b,to:"/login"}," Login")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{as:y.b,to:"/signup"},"signup"))))},x=a(11),_=a(30),O=a.n(_),j={TOKEN:"token",USERNAME:"username",ID:"id",errorResponse:[400,401,404,500]};function I(e,t,a){var n=new Date;a||(a=30),n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function k(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function N(e){document.cookie=e+"= ; expires =Thu, 01 Jan 1970 00:00:00 GMT ;path=/"}var L=function(e){I("token",e.token,30),I("username",e.username,30),I("id",e.id)},S=function(){return{headers:{authorization:"bearer "+k("token")}}},C=function(){var e=k("token");return e||void 0},R=function(e){return{user:e.user,hero:e.hero}},H=function(e){var t={username:k("username"),token:k("token"),id:k("id")};e.dispatch({type:"USER_INIT",data:t})};a(106).config(),console.log("server url",Object({NODE_ENV:"production",PUBLIC_URL:""}).SERVER_URL);Object({NODE_ENV:"production",PUBLIC_URL:""}).SERVER_URL;var T="https://prabuheros-server.herokuapp.com/api/"+"hero",z=function(e){return console.log("loginData ",e),O.a.post("https://prabuheros-server.herokuapp.com/api/login",e).then((function(e){return e})).catch((function(e){return e.response}))},D=function(e){return O.a.post(T,e,S()).then((function(e){return e})).catch((function(e){return e.response}))},U=a(27),B=a(112),A=function(e){return r.a.createElement(B.a,{style:{paddingTop:"100px"}},r.a.createElement("img",{width:125,height:125,className:"mr-3",src:"batman-512.png",alt:"Generic placeholder"}),r.a.createElement(B.a.Body,null,r.a.createElement("h5",null,"Meet your Heros"),r.a.createElement("p",null,"Come and Create your heros with us, you can add new heros, edit them, give power to them, create an arch enemy, view their stats on dashboard and much more...")))},F=a(113);var P=function(e){return void 0!==e.error&&e.error.show?r.a.createElement(F.a,{variant:e.error.variant,onClose:function(){return e.setError(Object(u.a)({},e.error,{show:!1}))},dismissible:!0},r.a.createElement(F.a.Heading,null,e.error.heading),r.a.createElement("p",null,e.error.content)):r.a.createElement(r.a.Fragment,null)},G=Object(U.f)(Object(x.b)((function(e){return{user:e.user,auth:e.auth,hero:e.hero}}),{login_handler:function(e){return{type:"USER_INIT",data:e}}})((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),v=Object(i.a)(c,2),f=v[0],y=v[1],x=Object(n.useState)({show:!1,heading:"invalid Credentials",content:"please retry with proper Username/Password",variant:"danger"}),_=Object(i.a)(x,2),O=_[0],I=_[1];return console.log("user",e.user),r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement(h.a,{xs:12,md:7},r.a.createElement(A,null)),r.a.createElement(h.a,{xs:12,md:{offset:"0"}},r.a.createElement("div",{className:"Login"},r.a.createElement("h2",{style:{textAlign:"center"}},"LOGIN"),r.a.createElement(P,{error:O,setError:I}),console.log("error in jsx",O),r.a.createElement(E.a,{onSubmit:function(t){var a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,s.a.awrap(z({user_name:t.target.user_name.value,password:t.target.password.value}));case 3:a=n.sent,console.log("response",a),a&&j.errorResponse.includes(a.status)?401===a.status?(console.log("error"),I(Object(u.a)({},O,{show:!0}))):I({show:!0,heading:a.data.message,content:""}):a&&(L(a.data),e.login_handler(a.data),e.history.push("/"),console.log("user",e.user));case 6:case"end":return n.stop()}}))}},r.a.createElement(p.a,{controlId:"user_name",bssize:"large"},r.a.createElement(E.a.Label,null,"User ID"),r.a.createElement(g.a,{autoFocus:!0,type:"text",value:l,name:"user_name",onChange:function(e){return o(e.target.value)}})),r.a.createElement(p.a,{controlId:"password",bssize:"large"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(g.a,{value:f,onChange:function(e){return y(e.target.value)},type:"password"})),r.a.createElement(b.a,{block:!0,bssize:"large",disabled:!(l.length>0&&f.length>0),type:"submit"},"Login")))))))}))),V=(a(109),Object(U.f)((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),v=Object(i.a)(c,2),f=v[0],y=v[1],x=Object(n.useState)({show:!1,heading:"Exception in Signing up",content:"",variant:"danger"}),_=Object(i.a)(x,2),I=_[0],k=_[1];return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement(h.a,{xs:12,md:7},r.a.createElement(A,null)),r.a.createElement(h.a,{xs:12,md:5},r.a.createElement("div",{className:"Signup"},r.a.createElement("h2",{style:{textAlign:"center"}},"SIGNUP"),r.a.createElement(P,{error:I,setError:k}),r.a.createElement(E.a,{onSubmit:function(t){var a,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),a={user_name:t.target.name.value,email:t.target.email.value,password:t.target.password.value},r.next=4,s.a.awrap((l=a,O.a.post("https://prabuheros-server.herokuapp.com/api/signup",l).then((function(e){return e})).catch((function(e){return e.response}))));case 4:n=r.sent,j.errorResponse.includes(n.status)?k(Object(u.a)({},I,{show:!0,content:n.data.message})):n.data&&(console.log("pushing you to login"),e.history.push("/login")),console.log("response =>",n);case 7:case"end":return r.stop()}var l}))}},r.a.createElement(p.a,{controlId:"name",bssize:"large"},r.a.createElement(E.a.Label,null,"Name"),r.a.createElement(g.a,{autoFocus:!0,type:"text",name:"name"})),r.a.createElement(p.a,{controlId:"email",bssize:"large"},r.a.createElement(E.a.Label,null,"Email"),r.a.createElement(g.a,{autoFocus:!0,type:"email",value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement(p.a,{controlId:"password",bssize:"large"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(g.a,{value:f,onChange:function(e){return y(e.target.value)},type:"password"})),r.a.createElement(b.a,{block:!0,bssize:"large",disabled:!(l.length>0&&f.length>0),type:"submit"},"Signup")))))))}))),W=a(117),J=function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(O.a.post("https://prabuheros-server.herokuapp.com/api/logout",{signout:!0},S()).then((function(e){return e})).catch((function(e){return e.response})));case 2:200===t.sent.status&&(N("token"),N("username"),N("id"),e.push("/login"));case 4:case"end":return t.stop()}}))},M=Object(U.f)(Object(x.b)(null,{heros_handler:function(e){return{type:"HERO_INIT",data:e}}})((function(e){return r.a.createElement("div",null,r.a.createElement(f.a,{bg:"primary",expand:"lg",variant:"dark"},r.a.createElement(f.a.Brand,null,r.a.createElement("img",{src:"batman-512.png",width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})," ","Heros"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(v.a.Link,{as:y.b,to:"/dashboard"},"DashBoard"),r.a.createElement(v.a.Link,{as:y.b,to:"/heros"},"Heros"))),e.is_search&&r.a.createElement(E.a,{inline:!0,onSubmit:function(t){var a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),console.log("seach ",t.target.search.value),n.next=4,s.a.awrap((r=t.target.search.value,O.a.get(T+"/search?search_term="+r,S()).then((function(e){return e})).catch((function(e){return e.response}))));case 4:200===(a=n.sent).status&&(console.log(a.data),e.heros_handler(a.data));case 6:case"end":return n.stop()}var r}))}},r.a.createElement(g.a,{type:"text",name:"search",id:"search",placeholder:"Search Heros",className:"mr-sm-2"}),r.a.createElement(b.a,{variant:"outline-light",type:"submit"},"Search")),r.a.createElement(f.a.Collapse,{className:"justify-content-end"},r.a.createElement(f.a.Text,null,"Signed in as: ",r.a.createElement(y.b,{href:"",to:"/user"},e.username)," "),r.a.createElement(b.a,{variant:"danger",onClick:function(){return J(e.history)},style:{marginLeft:"7px"}}," Sign-out"))))}))),K=a(29),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"HERO_INIT"===t.type?t.data:"HERO_ADD"===t.type?e.concat(t.data):e},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"USER_INIT"===t.type?(console.log("action",t),t.data):e},Q=a(72),X=Object(K.c)({hero:$,user:q}),Y=Object(K.d)(X,Object(K.a)(Q.a)),Z=a(39),ee=a(118),te=Object(x.b)(R,{add_hero_state:function(e){return{type:"HERO_ADD",data:e}}})((function(e){console.log("create_notes",e);return r.a.createElement(ee.a,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(E.a,{onSubmit:function(t){var a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a={name:t.target.name.value,real_name:t.target.real_name.value,power:t.target.power.value,country:t.target.country.value,color:t.target.color.value,weapon:t.target.weapons.value,arch_enemy:t.target.arch_enemy.value},n.next=4,s.a.awrap(D(a));case 4:a=n.sent,console.log("add hero ",a),e.add_hero_state(a.data),e.onHide();case 8:case"end":return n.stop()}}))}},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,{id:"contained-modal-title-vcenter"},r.a.createElement("div",{style:{alignContent:"center"}}," Create Hero"))),r.a.createElement(ee.a.Body,null,r.a.createElement(p.a,{controlId:"name",bssize:"large"},r.a.createElement(E.a.Label,null,"Name"),r.a.createElement(g.a,{autoFocus:!0,type:"text",name:"name"})," "),r.a.createElement(p.a,{controlId:"real_name",bssize:"large"},r.a.createElement(E.a.Label,null,"real name"),r.a.createElement(g.a,{autoFocus:!0,type:"text",name:"real name"})),r.a.createElement(p.a,{controlId:"power",bssize:"large"},r.a.createElement(E.a.Label,null,"power"),r.a.createElement(g.a,{name:"power",type:"text"})),r.a.createElement(p.a,{controlId:"country",bssize:"large"},r.a.createElement(E.a.Label,null,"Country"),r.a.createElement(g.a,{name:"country",type:"text"})),r.a.createElement(p.a,{controlId:"color",bssize:"large"},r.a.createElement(E.a.Label,null,"Color"),r.a.createElement(g.a,{name:"color",type:"text"})),r.a.createElement(p.a,{controlId:"weapons",bssize:"large"},r.a.createElement(E.a.Label,null,"weapons"),r.a.createElement(g.a,{name:"weapons",type:"text"})),r.a.createElement(p.a,{controlId:"arch_enemy",bssize:"large"},r.a.createElement(E.a.Label,null,"Arch Enemy"),r.a.createElement(g.a,{name:"arch_enemy",type:"text"}))),r.a.createElement(ee.a.Footer,null,r.a.createElement(b.a,Object(Z.a)({variant:"success",type:"submit"},"type","submit"),"Create Hero"),r.a.createElement(b.a,{onClick:e.onHide,variant:"danger"},"Close"))))})),ae=Object(x.b)(R,{heros_handler:function(e){return{type:"HERO_INIT",data:e}}})((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)((function(){!function(e){var t;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(O.a.get(T,S()).then((function(e){return e})).catch((function(e){return e.response})));case 2:200===(t=a.sent).status&&(console.log("db heros ",t.data),e(t.data));case 4:case"end":return a.stop()}}))}(e.heros_handler)}),[]),console.log("props.hero ",e),r.a.createElement("div",null,r.a.createElement(M,{username:e.user.username,is_search:!0}),r.a.createElement("div",{style:{paddingTop:"15px",padding:"20px"}},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(b.a,{className:"justify-content-end",onClick:function(){return o(!0)}},"+ New Hero")),r.a.createElement(W.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Real Name"),r.a.createElement("th",null,"Power"),r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Color"),r.a.createElement("th",null,"Weapons"),r.a.createElement("th",null,"Arch Enemy"))),r.a.createElement("tbody",null,(void 0!==e.hero||0!==e.hero.length)&&e.hero.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.real_name),r.a.createElement("td",null,e.power),r.a.createElement("td",null,e.country),r.a.createElement("td",null,e.color),r.a.createElement("td",null,e.weapon),r.a.createElement("td",null,e.arch_enemy))})))),(void 0===e.hero||0===e.hero.length)&&r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("h3",null,"Getting your heros here... ")),r.a.createElement(te,{show:l,onHide:function(){return o(!1)}})))})),ne=Object(x.b)(R)((function(e){return console.log("dash board ",e),r.a.createElement("div",null,r.a.createElement(M,{username:e.user.username,is_searh:!1}),r.a.createElement("div",{className:"d-flex justify-content-center",sytle:{alignContent:"center"}},r.a.createElement("h1",{style:{padding:"25px"}},"DashBoard is under construction, please use Heros Tab ")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:"batman-512.png",width:"300",height:"300",alt:"React Bootstrap logo"})))}));var re=function(e){return null!==Y.user&&void 0!==Y.user||(console.log("store user added"),H(Y)),r.a.createElement("div",null,r.a.createElement(x.a,{store:e.store},r.a.createElement(y.a,null,r.a.createElement(U.b,{exact:!0,path:"/signup",render:function(){return C()?r.a.createElement(U.a,{to:"/dashboard"}):r.a.createElement(V,null)}}),r.a.createElement(U.b,{exact:!0,path:"/login",render:function(){return C()?r.a.createElement(U.a,{to:"/dashboard"}):r.a.createElement(G,null)}}),r.a.createElement(U.b,{exact:!0,path:"/dashboard",render:function(){return C()?r.a.createElement(ne,null):r.a.createElement(U.a,{to:"/login"})}}),r.a.createElement(U.b,{exact:!0,path:"/heros",render:function(){return C()?r.a.createElement(ae,null):r.a.createElement(U.a,{to:"/login"})}}),r.a.createElement(U.b,{exact:!0,path:"/",render:function(){return C()?r.a.createElement(U.a,{to:"/dashboard"}):r.a.createElement(U.a,{to:"/login"})}}),r.a.createElement(U.b,{exact:!0,path:"*",render:function(){return C()?r.a.createElement(U.a,{to:"/dashboard"}):r.a.createElement(U.a,{to:"/login"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(re,{store:Y}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},74:function(e,t,a){e.exports=a(110)},79:function(e,t,a){},80:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},81:function(e,t,a){},83:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.6f379aff.chunk.js.map